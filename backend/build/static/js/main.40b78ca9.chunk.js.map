{"version":3,"sources":["components/services/solves.js","components/PlayerButton.js","components/PlayerFastest.js","components/DropdownMenu.jsx","App.js","index.js"],"names":["axios","require","get","then","res","data","catch","err","console","log","playerName","average","fastest","worst","time","participated","PlayerButton","className","handleClick","player","onClick","id","alias","name","PlayerFastest","solves","winnerList","wins","setWins","winPercentage","setWinPercentage","setParticipatedLength","players","participatedLength","useEffect","Object","entries","some","key","value","keys","length","toFixed","displayName","map","solve","date","DropdownMenu","dropdownRef","useRef","useState","isActive","setIsActive","pageClickEvent","e","current","contains","target","window","addEventListener","removeEventListener","handleMenuClick","ref","App","fastestTen","setFastestTen","setWinnerList","setCurrentPlayerSolves","currentPlayerName","setCurrentPlayerName","currentPlayerFastest","setCurrentPlayerFastest","setAverage","setParticipated","setWorst","solveService","winners","forEach","sort","a","b","push","count","reduce","tally","href","index","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.40b78ca9.chunk.js","sourcesContent":["const axios = require(\"axios\");\n\nconst fastestTen = () => {\n  const req = axios.get(\"/api/solves/fastestTen\");\n  return req\n    .then((res) => res.data)\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\nconst fetchPlayer = (playerName) => {\n  const req = axios.get(`/api/solves/${playerName}`);\n  return req\n    .then((res) => {\n      return res.data;\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\nconst fetchPlayerFastest = (playerName) => {\n  const req = axios.get(`/api/solves/${playerName}/fastest`);\n  return req\n    .then((res) => {\n      const average = res.data.average;\n      const fastest = res.data.fastest;\n      const worst = res.data.worst.time;\n      const participated = res.data.participated;\n      return { fastest, average, worst, participated };\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\nconst getAllByDate = () => {\n  const req = axios.get(\"/api/solves\");\n  return req.then((res) => {\n    return res.data;\n  });\n};\n\nexport default { fastestTen, fetchPlayer, fetchPlayerFastest, getAllByDate };\n","import React from \"react\";\n\nconst PlayerButton = ({ className, handleClick, player }) => {\n  return (\n    <li>\n      <button className={className} onClick={handleClick} id={player.alias}>\n        {player.name}\n      </button>\n    </li>\n  );\n};\n\nexport default PlayerButton;\n","import React, { useEffect } from \"react\";\n\nconst PlayerFastest = ({\n  name,\n  solves,\n  average,\n  worst,\n  participated,\n  winnerList,\n  wins,\n  setWins,\n  winPercentage,\n  setWinPercentage,\n  players,\n  setParticipatedLength,\n  participatedLength,\n}) => {\n  useEffect(() => {\n    setWins(0);\n    setWinPercentage(0);\n    Object.entries(winnerList).some(([key, value]) => {\n      setParticipatedLength(Object.keys(participated).length);\n      if (key === name) {\n        setWins(value);\n        setWinPercentage(((value / participatedLength) * 100).toFixed(2));\n      }\n    });\n  });\n\n  let displayName = \"\";\n  switch (name) {\n    case \"kyledeanreinford\":\n      displayName = \"Kyle\";\n      break;\n    case \"jalopey\":\n      displayName = \"Jeffrey\";\n      break;\n    case \"d’Anthony\":\n      displayName = \"Dane\";\n      break;\n    case \"Ericki\":\n      displayName = \"Eric\";\n      break;\n    case \"willardsmith\":\n      displayName = \"Will\";\n      break;\n    case \"Mark Miller\":\n      displayName = \"Mark\";\n      break;\n    case \"The Nuge\":\n      displayName = \"Ted\";\n      break;\n    case \"conor\":\n      displayName = \"Conor\";\n      break;\n    case \"Szakonyi\":\n      displayName = \"David\";\n      break;\n    default:\n      displayName = \"Nobody selected\";\n  }\n\n  return (\n    <div>\n      <h2>{displayName}</h2>\n      <br />\n      <h4>Best Times</h4>\n      {solves.map((solve) => {\n        return (\n          <li className=\"solve\" key={solve.id}>\n            {solve.time} seconds on {solve.date}\n          </li>\n        );\n      })}\n      <br />\n      <p>Average solve time: {average} seconds.</p>\n      <br />\n      <p>\n        Wins: {wins} (out of {participatedLength})\n      </p>\n      <br />\n      <p>Win Percentage: {winPercentage}%</p>\n      <br />\n      <p>Worst time is {worst} seconds &#129313;</p>\n    </div>\n  );\n};\n\nexport default PlayerFastest;\n","import React, { useState, useRef, useEffect } from \"react\";\nimport PlayerButton from \"./PlayerButton\";\n\nconst DropdownMenu = ({ players, handleClick }) => {\n  const dropdownRef = useRef(null);\n  const [isActive, setIsActive] = useState(false);\n  const onClick = () => setIsActive(!isActive);\n\n  useEffect(() => {\n    const pageClickEvent = (e) => {\n      if (\n        dropdownRef.current !== null &&\n        !dropdownRef.current.contains(e.target)\n      ) {\n        setIsActive(!isActive);\n      }\n    };\n    if (isActive) {\n      window.addEventListener(\"click\", pageClickEvent);\n    }\n    return () => {\n      window.removeEventListener(\"click\", pageClickEvent);\n    };\n  }, [isActive]);\n\n  const handleMenuClick = (e) => {\n    handleClick(e);\n    setIsActive(!isActive);\n  };\n\n  return (\n    <div className=\"menu-container\">\n      <button onClick={onClick} className=\"menu-trigger\">\n        <span>Players</span>\n      </button>\n      <nav\n        ref={dropdownRef}\n        className={`menu ${isActive ? \"active\" : \"inactive\"}`}\n      >\n        <ul>\n          {players.map((player) => {\n            return (\n              <PlayerButton\n                className=\"menu-button\"\n                player={player}\n                handleClick={handleMenuClick}\n              />\n            );\n          })}\n        </ul>\n      </nav>\n    </div>\n  );\n};\n\nexport default DropdownMenu;\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport solveService from \"./components/services/solves\";\nimport PlayerButton from \"./components/PlayerButton\";\nimport PlayerFastest from \"./components/PlayerFastest\";\nimport TotalWins from \"./components/TotalWins\";\nimport DropdownMenu from \"./components/DropdownMenu\";\n\nfunction App() {\n  const [fastestTen, setFastestTen] = useState([]);\n  const [winnerList, setWinnerList] = useState([]);\n  const [allByDate, setAllByDate] = useState([]);\n  const [currentPlayerSolves, setCurrentPlayerSolves] = useState([]);\n  const [currentPlayerName, setCurrentPlayerName] = useState();\n  const [currentPlayerFastest, setCurrentPlayerFastest] = useState([]);\n  const [average, setAverage] = useState();\n  const [participated, setParticipated] = useState([]);\n  const [wins, setWins] = useState();\n  const [winPercentage, setWinPercentage] = useState();\n  const [participatedLength, setParticipatedLength] = useState();\n  const [worst, setWorst] = useState();\n  const players = [\n    { name: \"Kyle\", alias: \"kyledeanreinford\" },\n    { name: \"Jeffrey\", alias: \"jalopey\" },\n    { name: \"Ted\", alias: \"The Nuge\" },\n    { name: \"Dane\", alias: \"d’Anthony\" },\n    { name: \"Conor\", alias: \"conor\" },\n    { name: \"David\", alias: \"Szakonyi\" },\n    { name: \"Mark\", alias: \"Mark Miller\" },\n    { name: \"Will\", alias: \"willardsmith\" },\n    { name: \"Eric\", alias: \"Ericki\" },\n  ];\n\n  const handleClick = (e) => {\n    console.log(e.target.id);\n    solveService.fetchPlayer(e.target.id).then((res) => {\n      setCurrentPlayerSolves(res);\n      setCurrentPlayerName(e.target.id);\n    });\n    solveService.fetchPlayerFastest(e.target.id).then((res) => {\n      setParticipatedLength(0);\n      setWinPercentage(0);\n      setCurrentPlayerFastest(res.fastest);\n      setAverage(res.average.toFixed(2));\n      setParticipated(res.participated);\n      setWorst(res.worst);\n    });\n  };\n\n  useEffect(() => {\n    solveService.fastestTen().then((res) => {\n      setFastestTen(res);\n    });\n    solveService.getAllByDate().then((res) => {\n      let winners = [];\n      Object.entries(res).forEach(([key, value]) => {\n        value.sort((a, b) => a.time - b.time);\n        if (value[0].time !== value[1].time) {\n          winners.push(value[0].name);\n        }\n      });\n      const count = winners.reduce((tally, player) => {\n        tally[player] = (tally[player] || 0) + 1;\n        return tally;\n      }, {});\n      setWinnerList(count);\n    });\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <div className=\"Header\">\n        <h1>\n          <a href=\"/  \">New York Times Mini Leaderboard</a>\n        </h1>\n      </div>\n      <DropdownMenu players={players} handleClick={handleClick} />\n      <div className=\"main\">\n        {currentPlayerName && (\n          <PlayerFastest\n            name={currentPlayerName}\n            solves={currentPlayerFastest}\n            average={average}\n            worst={worst}\n            participated={participated}\n            winnerList={winnerList}\n            wins={wins}\n            setWins={setWins}\n            winPercentage={winPercentage}\n            setWinPercentage={setWinPercentage}\n            players={players}\n            setParticipatedLength={setParticipatedLength}\n            participatedLength={participatedLength}\n          />\n        )}\n        {fastestTen && !currentPlayerName && (\n          <div>\n            <h2>Top 10 Times</h2>\n            {fastestTen.map((solve, index) => {\n              return (\n                <li className=\"solve\" key={index}>\n                  {solve.name}: {solve.time} seconds\n                </li>\n              );\n            })}\n          </div>\n        )}\n        {/* \n        {Object.keys(winnerList).length > 1 && (\n          <TotalWins\n            className=\"total-wins\"\n            players={players}\n            winnerList={winnerList}\n          />\n        )} */}\n      </div>\n      <div className=\"footer\">\n        Made by{\" \"}\n        <a href=\"https://github.com/kyledeanreinford\">Kyle Dean Reinford</a> |\n        Mediocre Coder 2021\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}