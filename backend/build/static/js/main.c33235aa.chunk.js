(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{234:function(e,t,n){},373:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(91),i=n.n(c),r=n(5),s=(n(234),n(235)),o=function(){return s.get("/api/solves/fastestTen").then((function(e){return e.data})).catch((function(e){console.log(e)}))},u=function(e){return s.get("/api/solves/".concat(e)).then((function(e){return e.data})).catch((function(e){console.log(e)}))},l=function(e){return s.get("/api/solves/".concat(e,"/fastest")).then((function(e){var t=e.data.average;return{fastest:e.data.fastest,average:t,worst:e.data.worst.time,participated:e.data.participated}})).catch((function(e){console.log(e)}))},j=function(){return s.get("/api/solves").then((function(e){return e.data}))},d=function(){return s.get("/api/lastSevenDays").then((function(e){return e.data})).catch((function(e){console.log(e)}))},b=function(){return s.get("/api/yesterday").then((function(e){return e.data})).catch((function(e){console.log(e)}))},O=n(2),m=function(e){var t=e.className,n=e.handleClick,a=e.player;return Object(O.jsx)("li",{children:Object(O.jsx)("button",{className:t,onClick:n,id:a.alias,children:a.name})})},f=function(e){var t=e.name,n=e.solves,c=e.average,i=e.worst,s=e.participated,o=e.winnerList,u=e.wins,l=e.setWins,j=e.winPercentage,d=e.setWinPercentage,b=(e.players,e.setParticipatedLength),m=e.participatedLength;Object(a.useEffect)((function(){l(0),d(0),Object.entries(o).some((function(e){var n=Object(r.a)(e,2),a=n[0],c=n[1];b(Object.keys(s).length),a===t&&(l(c),d((c/m*100).toFixed(2)))}))}));var f="";switch(t){case"kyledeanreinford":f="Kyle";break;case"jalopey":f="Jeffrey";break;case"d\u2019Anthony":f="Dane";break;case"Ericki":f="Eric";break;case"willardsmith":f="Will";break;case"Mark Miller":f="Mark";break;case"The Nuge":f="Ted";break;case"conor":f="Conor";break;case"Szakonyi":f="David";break;default:f="Nobody selected"}return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:f}),Object(O.jsx)("br",{}),Object(O.jsx)("h4",{children:"Best Times"}),n.map((function(e){return Object(O.jsxs)("li",{className:"solve",children:[e.time," seconds on ",e.date]},e.id)})),Object(O.jsx)("br",{}),Object(O.jsxs)("p",{children:["Average solve time: ",c," seconds."]}),Object(O.jsx)("br",{}),Object(O.jsxs)("p",{children:["Wins: ",u," (out of ",m,")"]}),Object(O.jsx)("br",{}),Object(O.jsxs)("p",{children:["Win Percentage: ",j,"%"]}),Object(O.jsx)("br",{}),Object(O.jsxs)("p",{children:["Worst time is ",i," seconds \ud83e\udd21"]})]})},h=function(e){var t=e.players,n=e.handleClick,c=Object(a.useRef)(null),i=Object(a.useState)(!1),s=Object(r.a)(i,2),o=s[0],u=s[1];Object(a.useEffect)((function(){var e=function(e){null===c.current||c.current.contains(e.target)||u(!o)};return o&&window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}),[o]);var l=function(e){n(e),u(!o)};return Object(O.jsxs)("div",{className:"menu-container",children:[Object(O.jsx)("button",{onClick:function(){return u(!o)},className:"menu-trigger",children:Object(O.jsx)("span",{children:"Players"})}),Object(O.jsx)("nav",{ref:c,className:"menu ".concat(o?"active":"inactive"),children:Object(O.jsx)("ul",{children:t.map((function(e){return Object(O.jsx)(m,{className:"menu-button",player:e,handleClick:l})}))})})]})},x=n(27),p=n(220),v=function(e){var t=e.lastSeven,n=e.maxY,c=(e.minY,Object(a.useState)([])),i=Object(r.a)(c,2),s=i[0],o=i[1],u=Object(a.useState)(!1),l=Object(r.a)(u,2),j=l[0],d=l[1];return Object(a.useEffect)((function(){var e=t.reduce((function(e,t){return e[t.name]=[].concat(Object(x.a)(e[t.name]||[]),[t]),e}),{});console.log(e),o(Object.entries(e).map((function(e){return{id:e[0],data:e[1].map((function(e){return{y:e.time,x:e.date}}))}}))),d(!0)}),[t]),Object(O.jsx)("div",{className:"graph",children:!0===j&&Object(O.jsxs)("div",{style:{height:500},children:[Object(O.jsx)("h2",{children:"Last 7 Days"}),Object(O.jsx)(p.a,{data:s,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"time",format:"%Y-%m-%d",useUTC:!1,precision:"day"},xFormat:"time:%Y-%m-%d",yScale:{type:"linear",min:0,max:Number(n)+5},yFormat:function(e){return e+" seconds"},indexBy:"date",axisTop:null,axisRight:null,axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"solve time",legendOffset:-40,legendPosition:"middle"},axisBottom:{format:"%b %d",tickSize:5,tickValues:"every day"}}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{})]})})},g=function(e){var t=e.yesterday,n=Object(a.useState)(null),c=Object(r.a)(n,2),i=c[0],s=c[1],o=Object(a.useState)(null),u=Object(r.a)(o,2),l=u[0],j=u[1];return Object(a.useEffect)((function(){s(t.sort((function(e,t){return e.time-t.time})).slice(0,1)),j(t.sort((function(e,t){return t.time-e.time})).slice(0,1))}),[t]),Object(O.jsx)(O.Fragment,{children:i&&Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Yesterday's Results"}),Object(O.jsxs)("div",{children:["Winner: ",i.map((function(e){return e.name}))," in"," ",i.map((function(e){return e.time}))," seconds"]}),Object(O.jsxs)("div",{children:["Worst: ",l.map((function(e){return e.name}))," in"," ",l.map((function(e){return e.time}))," seconds"]})]})})};var y=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)([]),s=Object(r.a)(i,2),m=s[0],x=s[1],p=Object(a.useState)([]),y=Object(r.a)(p,2),k=y[0],S=y[1],N=Object(a.useState)([]),w=Object(r.a)(N,2),E=w[0],L=w[1],T=Object(a.useState)([]),W=Object(r.a)(T,2),C=(W[0],W[1],Object(a.useState)([])),P=Object(r.a)(C,2),M=(P[0],P[1]),Y=Object(a.useState)(),D=Object(r.a)(Y,2),A=D[0],F=D[1],R=Object(a.useState)([]),z=Object(r.a)(R,2),B=z[0],J=z[1],K=Object(a.useState)(),H=Object(r.a)(K,2),I=H[0],U=H[1],V=Object(a.useState)([]),q=Object(r.a)(V,2),G=q[0],Q=q[1],X=Object(a.useState)(),Z=Object(r.a)(X,2),$=Z[0],_=Z[1],ee=Object(a.useState)(),te=Object(r.a)(ee,2),ne=te[0],ae=te[1],ce=Object(a.useState)(),ie=Object(r.a)(ce,2),re=ie[0],se=ie[1],oe=Object(a.useState)(""),ue=Object(r.a)(oe,2),le=ue[0],je=ue[1],de=Object(a.useState)(""),be=Object(r.a)(de,2),Oe=be[0],me=be[1],fe=Object(a.useState)(),he=Object(r.a)(fe,2),xe=he[0],pe=he[1],ve=[{name:"Kyle",alias:"kyledeanreinford"},{name:"Jeffrey",alias:"jalopey"},{name:"Ted",alias:"The Nuge"},{name:"Dane",alias:"d\u2019Anthony"},{name:"Conor",alias:"conor"},{name:"David",alias:"Szakonyi"},{name:"Mark",alias:"Mark Miller"},{name:"Will",alias:"willardsmith"},{name:"Eric",alias:"Ericki"}];return Object(a.useEffect)((function(){o().then((function(e){c(e)})),j().then((function(e){var t=[];Object.entries(e).forEach((function(e){var n=Object(r.a)(e,2),a=(n[0],n[1]);a.sort((function(e,t){return e.time-t.time})),a[0].time!==a[1].time&&t.push(a[0].name)}));var n=t.reduce((function(e,t){return e[t]=(e[t]||0)+1,e}),{});L(n)})),d().then((function(e){var t=e.filter((function(e){return"--"!==e.time}));je(t.reduce((function(e,t){return Number(e.time)>Number(t.time)?e:t})).time),me(t.reduce((function(e,t){return Number(e.time)<Number(t.time)?e:t})).time),x(t)})),b().then((function(e){S(e)}))}),[]),Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)("div",{className:"Header",children:Object(O.jsx)("h1",{children:Object(O.jsx)("a",{href:"/  ",children:"New York Times Mini Leaderboard"})})}),Object(O.jsx)(h,{players:ve,handleClick:function(e){console.log(e.target.id),u(e.target.id).then((function(t){M(t),F(e.target.id)})),l(e.target.id).then((function(e){se(0),ae(0),J(e.fastest),U(e.average.toFixed(2)),Q(e.participated),pe(e.worst)}))}}),Object(O.jsxs)("div",{className:"main",children:[A&&Object(O.jsx)(f,{name:A,solves:B,average:I,worst:xe,participated:G,winnerList:E,wins:$,setWins:_,winPercentage:ne,setWinPercentage:ae,players:ve,setParticipatedLength:se,participatedLength:re}),Object(O.jsx)(g,{yesterday:k}),Object(O.jsx)(v,{lastSeven:m,yesterday:k,minY:Oe,maxY:le}),n&&!A&&Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Top 10 All Time Solves"}),n.map((function(e,t){return Object(O.jsxs)("li",{className:"solve",children:[e.name,": ",e.time," seconds"]},t)})),Object(O.jsx)("br",{}),Object(O.jsx)("br",{})]})]}),Object(O.jsxs)("div",{className:"footer",children:["Made by"," ",Object(O.jsx)("a",{href:"https://github.com/kyledeanreinford",children:"Kyle Dean Reinford"})," | Mediocre Coder 2021"]})]})};i.a.render(Object(O.jsx)(y,{}),document.getElementById("root"))}},[[373,1,2]]]);
//# sourceMappingURL=main.c33235aa.chunk.js.map